<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Douglas Crossing Band | South Surrey's Own</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        :root {
            --bs-primary-rgb: 255, 107, 8; 
            --bs-primary: rgb(var(--bs-primary-rgb));
            --navbar-height: 72px;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            position: relative; 
        }

        #mainNav {
            transition: background-color 0.3s ease-in-out, padding-top 0.3s ease-in-out, padding-bottom 0.3s ease-in-out;
            background-color: transparent; 
        }

        #mainNav .navbar-brand {
            font-size: 1.6rem;
            font-weight: 700;
            letter-spacing: 0.05em;
        }

        #mainNav .nav-link {
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: 0.05em;
            padding: 0.5rem 1rem;
            color: rgba(255, 255, 255, 0.8); 
            transition: color 0.2s ease-in-out;
        }

        #mainNav .nav-link:hover,
        #mainNav .nav-link.active {
            color: var(--bs-primary) !important;
        }
        
        #mainNav.navbar-scrolled {
            background-color: rgba(10, 10, 10, 0.95) !important; 
            backdrop-filter: blur(8px);
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15);
            padding-top: 0.75rem !important;
            padding-bottom: 0.75rem !important;
        }
        
        #mainNav.navbar-scrolled .nav-link {
             color: rgba(255, 255, 255, 0.9);
        }
        #mainNav.navbar-scrolled .nav-link:hover,
        #mainNav.navbar-scrolled .nav-link.active {
            color: var(--bs-primary) !important;
        }

        #hero {
            background: linear-gradient(to bottom, rgba(18,18,18,0.65) 0%, rgba(18,18,18,0.85) 70%, #121212 100%), url('https://loremflickr.com/1920/1080/rock,concert,dark,stage?random=1') no-repeat center center;
            background-size: cover;
            min-height: 100vh;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding-top: var(--navbar-height); 
        }

        #hero h1 {
            text-shadow: 2px 2px 10px rgba(0,0,0,0.8);
            font-size: 3.5rem;
        }
        
        @media (max-width: 768px) {
            #hero h1 {
                font-size: 2.5rem;
            }
            #hero p.lead {
                font-size: 1.1rem;
            }
        }


        #hero p.lead {
            font-size: 1.3rem;
            color: rgba(255,255,255,0.9) !important;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn-xl {
            padding: 1.25rem 2.5rem;
            font-size: 1.1rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        section {
            padding: 5rem 0;
        }
        
        section:target { /* For smooth scroll adjustment */
            padding-top: calc(var(--navbar-height) + 1rem);
            margin-top: calc(-1 * (var(--navbar-height) + 1rem));
        }
        #hero:target { /* Hero doesn't need this extra padding */
             padding-top: var(--navbar-height);
             margin-top: 0;
        }


        section h2.section-title {
            border-bottom: 3px solid var(--bs-primary);
            display: inline-block;
            padding-bottom: 0.75rem;
            margin-bottom: 3.5rem !important;
            font-weight: 700;
        }
        
        .bg-subtle-dark { 
            background-color: #1a1a1a; 
        }

        .card {
            border: 1px solid rgba(255,255,255,0.15);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0.75rem 1.5rem rgba(var(--bs-primary-rgb),0.1);
        }

        .card-header.bg-primary-tint {
            background-color: rgba(var(--bs-primary-rgb), 0.85);
            border-bottom: 0;
            color: #fff;
        }
        
        #songListContainer ul {
            list-style-type: none;
            padding-left: 0;
        }

        #songListContainer li {
            padding: 0.4rem 0.25rem;
            border-bottom: 1px solid rgba(255,255,255,0.12);
            font-size: 0.95rem;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
        }
        #songListContainer li:hover {
            background-color: rgba(var(--bs-primary-rgb), 0.15);
            color: var(--bs-primary);
        }

        #songListContainer li:last-child {
            border-bottom: none;
        }
        
        #social .btn-outline-light i {
            transition: color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }
        #social .btn-outline-light:hover i {
            color: var(--bs-primary);
            transform: scale(1.15);
        }
         #social .btn-outline-light:hover {
            border-color: var(--bs-primary);
        }


        #scrollTopBtn {
            width: 50px;
            height: 50px;
            z-index: 1030;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.2s ease-in-out;
        }
        #scrollTopBtn.visible {
            visibility: visible;
            opacity: 1;
        }
        #scrollTopBtn:hover {
            transform: scale(1.1);
            background-color: darkorange; 
            border-color: darkorange;
        }
        
        .form-control, .form-floating > label {
             background-color: rgba(255,255,255,0.03);
             border-color: rgba(255,255,255,0.2);
        }
         .form-control:focus {
            background-color: rgba(255,255,255,0.05);
            border-color: var(--bs-primary);
            box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.3);
        }


        footer {
            background-color: #0a0a0a; 
        }
        .img-band-photo {
             max-height: 450px; 
             object-fit: cover;
             border: 3px solid rgba(var(--bs-primary-rgb), 0.3);
             border-radius: 0.5rem;
        }
        .event-card-img {
            height: 220px;
            object-fit: cover;
        }

    </style>
</head>
<body data-bs-theme="dark" data-bs-spy="scroll" data-bs-target="#mainNav">

    <header>
        <nav class="navbar navbar-expand-lg fixed-top py-3" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="#hero">Douglas Crossing Band</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto my-2 my-lg-0">
                        <li class="nav-item"><a class="nav-link" href="#hero">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="#band">The Band</a></li>
                        <li class="nav-item"><a class="nav-link" href="#live-promo">See Us Live</a></li>
                        <li class="nav-item"><a class="nav-link" href="#events">Events</a></li>
                        <li class="nav-item"><a class="nav-link" href="#songlist">Song List</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="hero">
            <div class="container px-4 px-lg-5">
                <h1 class="display-3 fw-bolder mb-4">Douglas Crossing Band</h1>
                <p class="lead fw-normal mb-5">SOUTH SURREY'S VERY OWN. Come experience the spectacle!</p>
                <a class="btn btn-primary btn-xl" href="#contact">CONTACT US</a>
            </div>
        </section>

        <section id="band" class="py-5 bg-subtle-dark">
            <div class="container px-4 px-lg-5">
                <div class="text-center">
                    <h2 class="section-title">THE BAND</h2>
                </div>
                <div class="row gx-4 gx-lg-5 align-items-center mt-4">
                    <div class="col-lg-6">
                        <h3 class="h4 mb-3 fw-semibold">What We Play</h3>
                        <p class="lead mb-4 text-body-secondary">60s through today including Mellencamp, The Doors, Poison, T-Rex, Guns&Roses, Smash Mouth, Trooper, AC/DC and so much more.</p>
                        <div class="text-center text-lg-start">
                             <a class="btn btn-outline-light btn-lg" href="#songlist">OUR SONG LIST & SAMPLES</a>
                        </div>
                    </div>
                    <div class="col-lg-6 text-center">
                        <img src="https://loremflickr.com/600/450/band,music,group,stage?random=2" alt="Douglas Crossing Band performing" class="img-fluid shadow-lg mt-4 mt-lg-0 img-band-photo" loading="lazy">
                    </div>
                </div>
            </div>
        </section>

        <section id="live-promo" class="py-5">
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="section-title">See Us Live</h2>
                <p class="lead mb-4 text-body-secondary mt-4">We keep the dance floor moving by playing great dance tunes. Find out when we're playing next.</p>
                <a class="btn btn-primary btn-lg" href="#events">EVENT CALENDAR</a>
            </div>
        </section>

        <section id="book-us" class="py-5 bg-subtle-dark">
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="section-title">Have Us Play Your Event</h2>
                <p class="lead mb-4 text-body-secondary mt-4">Get in touch to find out about featuring Douglas Crossing Band at your event or venue.</p>
                <a class="btn btn-primary btn-lg" href="#contact">CONTACT US</a>
            </div>
        </section>

        <section id="events" class="py-5">
            <div class="container px-4 px-lg-5">
                <div class="text-center">
                    <h2 class="section-title">UPCOMING EVENTS</h2>
                </div>
                <div class="row gx-4 gx-lg-5 justify-content-center mt-4">
                    <div class="col-lg-8 col-xl-7">
                        <div class="card text-white bg-dark mb-4 shadow-lg">
                            <img src="https://loremflickr.com/600/400/music,venue,live,club?random=3" class="card-img-top event-card-img" alt="Event Venue" loading="lazy">
                            <div class="card-header fs-5 fw-bold bg-primary-tint">Saturday Feb 24, 2024</div>
                            <div class="card-body p-4">
                                <h5 class="card-title h3 fw-semibold">Live at Crescent Beach Legion, South Surrey</h5>
                                <p class="card-text text-body-secondary mt-3">Hear us live at The Crescent Beach Legion for an evening of dancing & good times. $10 cover charge.</p>
                                <ul class="list-unstyled mt-4">
                                    <li class="mb-2 fs-6"><i class="bi bi-clock-fill me-2 text-primary"></i>7:30 pm - 11:00 pm</li>
                                    <li class="fs-6"><i class="bi bi-geo-alt-fill me-2 text-primary"></i>Crescent Beach Legion, South Surrey, BC</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="songlist" class="py-5 bg-subtle-dark">
            <div class="container px-4 px-lg-5">
                <div class="text-center">
                     <h2 class="section-title">OUR SONG LIST</h2>
                </div>
                <div class="row gx-4 gx-lg-5 mt-4" id="songListContainer">
                </div>
            </div>
        </section>

        <section id="social" class="py-5">
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="section-title">Follow Us</h2>
                <div class="mt-4">
                    <a href="#" class="btn btn-outline-light btn-lg m-2" aria-label="Facebook"><i class="bi bi-facebook fs-3"></i></a>
                    <a href="#" class="btn btn-outline-light btn-lg m-2" aria-label="Instagram"><i class="bi bi-instagram fs-3"></i></a>
                    <a href="#" class="btn btn-outline-light btn-lg m-2" aria-label="YouTube"><i class="bi bi-youtube fs-3"></i></a>
                </div>
            </div>
        </section>

        <section id="contact" class="py-5">
            <div class="container px-4 px-lg-5">
                <div class="text-center">
                    <h2 class="section-title">CONTACT US</h2>
                </div>
                <div class="row gx-4 gx-lg-5 justify-content-center mt-4">
                    <div class="col-lg-8 col-xl-6">
                        <form id="contactForm" novalidate>
                            <div class="form-floating mb-3">
                                <input class="form-control" id="nameInput" type="text" placeholder="Enter your name..." required />
                                <label for="nameInput">Full name</label>
                                <div class="invalid-feedback">A name is required.</div>
                            </div>
                            <div class="form-floating mb-3">
                                <input class="form-control" id="emailInput" type="email" placeholder="name@example.com" required />
                                <label for="emailInput">Email address</label>
                                <div class="invalid-feedback" data-type-error="Please enter a valid email address.">An email address is required.</div>
                            </div>
                            <div class="form-floating mb-3">
                                <textarea class="form-control" id="messageTextarea" placeholder="Enter your message here..." style="height: 10rem" required></textarea>
                                <label for="messageTextarea">Message</label>
                                <div class="invalid-feedback">A message is required.</div>
                            </div>
                            <div class="d-grid"><button class="btn btn-primary btn-lg" id="submitButton" type="submit">Send Message</button></div>
                        </form>
                        <div id="formSubmissionFeedback" class="mt-4"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="py-5">
        <div class="container px-4 px-lg-5"><p class="m-0 text-center text-white-50">Copyright &copy; Douglas Crossing Band <span id="currentYear"></span></p></div>
    </footer>

    <button id="scrollTopBtn" class="btn btn-primary position-fixed bottom-0 end-0 mb-3 me-3 rounded-circle">
        <i class="bi bi-arrow-up-short fs-4"></i>
    </button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mainNav = document.getElementById('mainNav');
            if (mainNav) {
                const navbarHeight = mainNav.offsetHeight;
                document.documentElement.style.setProperty('--navbar-height', `${navbarHeight}px`);
                document.body.setAttribute('data-bs-offset', navbarHeight + 20); 
                new bootstrap.ScrollSpy(document.body, {
                    target: '#mainNav',
                    offset: navbarHeight + 20 
                });
            }

            initNavbarScrollEffect();
            initSmoothScroll();
            initScrollToTopButton();
            initDynamicYear();
            populateSongList();
            initContactForm();
            window.addEventListener('resize', populateSongList);
        });

        function initNavbarScrollEffect() {
            const mainNav = document.getElementById('mainNav');
            if (mainNav) {
                window.addEventListener('scroll', function() {
                    if (window.scrollY > 50) {
                        mainNav.classList.add('navbar-scrolled');
                    } else {
                        mainNav.classList.remove('navbar-scrolled');
                    }
                });
            }
        }

        function initSmoothScroll() {
            const scrollLinks = document.querySelectorAll('a.nav-link[href^="#"], a.btn[href^="#"], a.navbar-brand[href^="#"]');
            scrollLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        const navbar = document.getElementById('mainNav');
                        const navbarHeight = navbar ? navbar.offsetHeight : 72;
                        let targetPosition = targetElement.offsetTop - navbarHeight;
                        
                        if (targetId === '#hero') {
                             targetPosition = 0;
                        }
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                        
                        const navbarCollapseElement = document.getElementById('navbarNav');
                        if (navbarCollapseElement && navbarCollapseElement.classList.contains('show')) {
                            const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapseElement) || new bootstrap.Collapse(navbarCollapseElement, { toggle: false });
                            bsCollapse.hide();
                        }
                    }
                });
            });
        }
        
        function initScrollToTopButton() {
            const scrollTopBtn = document.getElementById('scrollTopBtn');
            if (scrollTopBtn) {
                window.addEventListener('scroll', function() {
                    if (window.scrollY > 300) {
                        scrollTopBtn.classList.add('visible');
                    } else {
                        scrollTopBtn.classList.remove('visible');
                    }
                });
                scrollTopBtn.addEventListener('click', function() {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }
        }

        function initDynamicYear() {
            const yearSpan = document.getElementById('currentYear');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }
        }

        function populateSongList() {
            const songs = [
                "Ain't my Fault", "Bang a Gong", "Blue Suede Shoes", "Breakup Song", "Cherry Bomb", "Cinnamon Girl", 
                "Come & Get Your Love", "Comfortably Numb", "Could Have Been a Lady", "Crazy Little Thing Called Love", 
                "Day After Day", "Dead Flowers", "Dear Mr. Fantasy", "Every Rose Has Its Thorns", "Friday I'm in Love", 
                "Have You Ever Seen the Rain", "Here for a Good Time", "Hungry Heart", "Hurts so Good", "I won't Back Down", 
                "I Would Walk 500 Miles", "It's Only Rock & Roll", "Johnny B Good", "Keep Your Hands to Yourself", 
                "Knockin' on Heaven's Door", "Little Bones", "Little Sister", "Little Wing", "Losing My Religion", 
                "Maggie May", "Margaritaville", "Mary Jane's Last Dance", "Midnight Special", "Mustang Sally", 
                "New Orleans is Sinking", "No Matter What", "Pink Houses", "Pretty Woman", "Pride & Joy", "Proud Mary", 
                "Raise a Little Hell", "Roadhouse Blues", "R.O.C.K in the USA", "Run to You", "Running Down a Dream", 
                "Satisfaction", "Shook me all Night Long", "Some Kind of Wonderful", "Stray Cat Strut", 
                "Stuck in the Middle with You", "Tennessee Whisky", "The Way", "This One Goes Out to the One I Love", 
                "Tonight is a Wonderful Night to Fall in Love", "Under My Thumb", "Under the Boardwalk", "Wagon Wheel", 
                "What I Like About You", "What's Up", "White Wedding", "Who'll Stop the Rain", "You May be Right", "You Wreck Me"
            ];
            const container = document.getElementById('songListContainer');
            if (!container) return;

            const numColumns = window.innerWidth < 768 ? 1 : (window.innerWidth < 992 ? 2 : 3);
            container.innerHTML = ''; 

            const songsPerColumn = Math.ceil(songs.length / numColumns);
            let songIndex = 0;

            for (let i = 0; i < numColumns; i++) {
                const colDiv = document.createElement('div');
                
                if (numColumns === 1) colDiv.className = 'col-12';
                else if (numColumns === 2) colDiv.className = 'col-md-6';
                else colDiv.className = 'col-lg-4 col-md-6';

                const ul = document.createElement('ul');
                ul.classList.add('mb-0', 'ps-0', 'ps-md-2');
                for (let j = 0; j < songsPerColumn && songIndex < songs.length; j++) {
                    const li = document.createElement('li');
                    li.textContent = songs[songIndex++];
                    ul.appendChild(li);
                }
                colDiv.appendChild(ul);
                container.appendChild(colDiv);
            }
        }

        function initContactForm() {
            const contactForm = document.getElementById('contactForm');
            const feedbackDiv = document.getElementById('formSubmissionFeedback');
            const emailInput = document.getElementById('emailInput');

            if (contactForm) {
                contactForm.addEventListener('submit', function(event) {
                    event.preventDefault();
                    event.stopPropagation();
                    
                    let isValid = contactForm.checkValidity();
                    
                    if (emailInput.value && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value)) {
                        emailInput.classList.add('is-invalid');
                        const errorDiv = emailInput.parentNode.querySelector('.invalid-feedback[data-type-error]');
                        if(errorDiv) errorDiv.style.display = 'block';
                        const defaultErrorDiv = emailInput.parentNode.querySelector('.invalid-feedback:not([data-type-error])');
                        if(defaultErrorDiv) defaultErrorDiv.style.display = 'none';
                        isValid = false;
                    } else if (emailInput.value) {
                         emailInput.classList.remove('is-invalid');
                         const errorDiv = emailInput.parentNode.querySelector('.invalid-feedback[data-type-error]');
                         if(errorDiv) errorDiv.style.display = 'none';
                         const defaultErrorDiv = emailInput.parentNode.querySelector('.invalid-feedback:not([data-type-error])');
                         if(defaultErrorDiv && emailInput.required) defaultErrorDiv.style.display = ''; // Reset to default Bootstrap behavior
                    }


                    if (!isValid) {
                        contactForm.classList.add('was-validated');
                        feedbackDiv.innerHTML = '<div class="alert alert-danger alert-dismissible fade show" role="alert">Please fill out all required fields correctly.<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>';
                        return;
                    }
                    
                    contactForm.classList.add('was-validated'); 

                    feedbackDiv.innerHTML = '<div class="alert alert-success alert-dismissible fade show" role="alert">Thank you! Your message has been "sent". (This is a demo form)<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>';
                    contactForm.reset();
                    contactForm.classList.remove('was-validated');
                     emailInput.classList.remove('is-invalid');
                     const errorDiv = emailInput.parentNode.querySelector('.invalid-feedback[data-type-error]');
                     if(errorDiv) errorDiv.style.display = 'none';

                    setTimeout(() => {
                        const alertNode = feedbackDiv.querySelector('.alert');
                        if(alertNode){
                            const alertInstance = bootstrap.Alert.getInstance(alertNode);
                            if(alertInstance) {
                                alertInstance.close();
                            } else {
                                feedbackDiv.innerHTML = '';
                            }
                        }
                    }, 5000);
                });
            }
        }
    </script>

<!-- Injectable Console Log Copier Snippet -->
<div id="appgen2025ConsoleCopyUtil" style="position: fixed; top: 5px; right: 5px; z-index: 9999; padding: 5px; background-color: rgba(0,0,0,0.7); border-radius: 5px; cursor: default;" title="Copy Console Logs for this Tab">
    <button type="button" style="background: none; border: 1px solid #fff; color: #fff; padding: 3px 8px; font-size: 10px; border-radius: 3px; cursor: pointer;">Copy Logs</button>
</div>
<script>
    (function() {
        const utilContainer = document.getElementById('appgen2025ConsoleCopyUtil');
        if (utilContainer) {
            const originalConsoleLog = console.log;
            const originalConsoleError = console.error;
            const originalConsoleWarn = console.warn;
            const originalConsoleInfo = console.info;
            const originalConsoleDebug = console.debug;
            const logs = [];
            function formatLog(type, args) {
                const timestamp = new Date().toISOString();
                const message = Array.from(args).map(arg => {
                    try {
                        if (arg instanceof Error) return arg.stack || arg.toString();
                        if (typeof arg === 'object' && arg !== null) {
                            const getCircularReplacer = () => { const seen = new WeakSet(); return (key, value) => { if (typeof value === "object" && value !== null) { if (seen.has(value)) { return "[Circular]"; } seen.add(value); } return value; }; };
                            return JSON.stringify(arg, getCircularReplacer(), 2);
                        }
                        return String(arg);
                    } catch (e) { return '[Unserializable Object]'; }
                }).join(' ');
                return `[${timestamp}] [${type.toUpperCase()}] ${message}`;
            }
            console.log = function(...args) { const formatted = formatLog('log', args); logs.push(formatted); originalConsoleLog.apply(console, args); };
            console.error = function(...args) { const formatted = formatLog('error', args); logs.push(formatted); originalConsoleError.apply(console, args); };
            console.warn = function(...args) { const formatted = formatLog('warn', args); logs.push(formatted); originalConsoleWarn.apply(console, args); };
            console.info = function(...args) { const formatted = formatLog('info', args); logs.push(formatted); originalConsoleInfo.apply(console, args); };
            console.debug = function(...args) { const formatted = formatLog('debug', args); logs.push(formatted); originalConsoleDebug.apply(console, args); };
            window.onerror = function(message, source, lineno, colno, error) { const errorObj = error || {}; const formatted = formatLog('uncaught_error', [message, `at ${source}:${lineno}:${colno}`, errorObj.stack || '(no stack)']); logs.push(formatted); originalConsoleError.call(console, 'Uncaught Error:', message, 'at', source + ':' + lineno + ':' + colno, error); return false; };
            window.onunhandledrejection = function(event) { const reason = event.reason || {}; const formatted = formatLog('unhandled_rejection', [reason.message || reason, reason.stack || '(no stack)']); logs.push(formatted); originalConsoleError.call(console, 'Unhandled Rejection:', event.reason); };
            const copyButton = utilContainer.querySelector('button');
            if (copyButton) {
                copyButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (logs.length === 0) { alert('No console logs captured yet to copy.'); return; }
                    const logText = logs.join('\n');
                    navigator.clipboard.writeText(logText).then(function() {
                        const originalText = copyButton.textContent; copyButton.textContent = 'Copied!'; copyButton.style.background = '#28a745'; copyButton.style.borderColor = '#28a745';
                        setTimeout(function() { copyButton.textContent = originalText; copyButton.style.background = 'none'; copyButton.style.borderColor = '#fff'; }, 2000);
                        originalConsoleInfo.call(console, 'AppGen2025 Util: Console logs copied to clipboard.');
                    }).catch(function(err) {
                        originalConsoleError.call(console, 'AppGen2025 Util: Failed to copy console logs - ', err.name, err.message);
                        alert('Failed to copy logs. See browser console for details. Logs may be too large or permissions denied.');
                        const originalText = copyButton.textContent; copyButton.textContent = 'Failed!'; copyButton.style.background = '#dc3545'; copyButton.style.borderColor = '#dc3545';
                        setTimeout(function() { copyButton.textContent = originalText; copyButton.style.background = 'none'; copyButton.style.borderColor = '#fff'; }, 3000);
                    });
                });
            }
        } else { console.error('AppGen2025 Util: Container element "appgen2025ConsoleCopyUtil" not found. Ensure it is correctly injected or present in the HTML.'); }
    })();
</script>
<!-- End of Injectable Snippet -->

</body>
</html>