<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Douglas Crossing Band | South Surrey's Own</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --hero-bg-image: url('data:image/svg+xml;charset=UTF-8,<svg%20width%3D"800"%20height%3D"600"%20xmlns%3D"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg"><rect%20width%3D"800"%20height%3D"600"%20fill%3D"%231a1a1a"/%3E<text%20x%3D"50%25"%20y%3D"50%25"%20font-family%3D"Arial"%20font-size%3D"30"%20fill%3D"%236c757d"%20text-anchor%3D"middle"%20dy%3D".3em">Hero%20Background%20Loading...</text></svg>');
            --accent-color: #00A9FF;
            --dark-bg: #121212;
            --darker-bg: #0a0a0a;
            --card-bg: rgba(255, 255, 255, 0.05);
            --card-border: rgba(255, 255, 255, 0.1);
            --navbar-height: 75px;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            padding-top: var(--navbar-height);
            background-color: var(--dark-bg);
            color: #f8f9fa;
        }

        h1, h2, h3, .navbar-brand, .display-1, .display-2, .display-3, .display-4 {
            font-family: 'Anton', sans-serif;
            letter-spacing: 1.5px;
            text-transform: uppercase;
        }
        .navbar-brand {
            font-size: 1.75rem;
        }

        .navbar {
            transition: background-color 0.3s ease-in-out;
        }
        .bg-transparent-custom {
            background-color: transparent !important;
        }
        .bg-black-transparent {
             background-color: rgba(0,0,0,0.85) !important;
             backdrop-filter: blur(5px);
        }
        .navbar-dark .navbar-nav .nav-link {
            color: rgba(255,255,255,.85);
            transition: color 0.3s ease;
            padding-left: 1rem;
            padding-right: 1rem;
            font-weight: 500;
        }
        .navbar-dark .navbar-nav .nav-link:hover,
        .navbar-dark .navbar-nav .nav-link.active {
            color: var(--accent-color) !important;
        }

        .hero-section {
            min-height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.60), rgba(0,0,0,0.80)), var(--hero-bg-image);
            background-size: cover;
            background-position: center center;
            background-attachment: fixed;
        }
        .hero-section .display-1 {
            font-size: calc(2.5rem + 3vw);
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.7);
        }
        .hero-section .lead {
            font-size: calc(1rem + 0.5vw);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .btn-primary {
            background-color: var(--accent-color);
            border-color: var(--accent-color);
            padding: 0.85rem 1.75rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .btn-primary:hover {
            background-color: #0087cc;
            border-color: #007bbb;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 169, 255, 0.35);
        }
        .btn-outline-light {
            padding: 0.85rem 1.75rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            border-width: 2px;
        }
        .btn-outline-light:hover {
            color: var(--dark-bg);
            background-color: #f8f9fa;
            border-color: #f8f9fa;
            transform: translateY(-2px);
        }

        section {
            padding: 80px 0;
        }
        section#band, section#songs {
            background-color: var(--dark-bg);
        }
        section#events {
            background-color: #161616; 
        }
        section#contact {
            background-color: var(--darker-bg);
        }

        .section-title {
            margin-bottom: 3rem;
            font-size: calc(2.2rem + 1vw);
        }
        .section-subtitle {
            margin-bottom: 2.5rem;
            font-size: calc(1.1rem + 0.2vw);
            color: #adb5bd;
            font-family: 'Montserrat', sans-serif;
            text-transform: none;
            letter-spacing: normal;
            font-weight: 400;
        }

        .image-placeholder-container { /* Use a container for better control */
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #2a2a2a;
            min-height: 300px; /* Default height */
            width: 100%;
            border: 2px dashed #444;
            border-radius: .375rem; /* Bootstrap's default form input radius */
            overflow: hidden; /* Ensure img fits */
        }
        #bandPhoto {
            width: 100%;
            height: auto; /* Maintain aspect ratio */
            max-height: 450px; /* Control max height */
            object-fit: cover;
            border-radius: .25rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: block; /* Remove extra space below img */
        }
         #bandPhoto.image-placeholder-content { /* Applied when it's the SVG placeholder */
            min-height: 300px;
            object-fit: contain; /* For SVG placeholder text to be visible */
            box-shadow: none;
        }


        .event-card {
            background-color: var(--card-bg);
            border: 1px solid var(--card-border);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%;
            border-radius: .375rem;
        }
        .event-card:hover {
            transform: translateY(-7px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.5);
        }
        .event-card-past {
            opacity: 0.7;
            box-shadow: none;
        }
        .event-card-past:hover {
            transform: translateY(-3px);
            opacity: 0.8;
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        .event-card .card-title {
            color: var(--accent-color);
            font-weight: bold;
        }
        .event-card .card-subtitle {
            font-size: 0.9rem;
        }

        .song-list-columns {
            list-style-type: none;
            padding-left: 0;
            column-count: 3;
            column-gap: 2.5rem;
        }
        @media (max-width: 992px) {
            .song-list-columns { column-count: 2; }
        }
        @media (max-width: 768px) {
            .song-list-columns { column-count: 1; }
        }
        .song-list-columns li {
            margin-bottom: 0.7rem;
            font-size: 0.95rem;
            transition: color 0.2s ease, transform 0.2s ease;
            padding: 2px 0;
        }
        .song-list-columns li:hover {
            color: var(--accent-color);
            transform: translateX(5px);
        }

        .form-control {
            background-color: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.15);
            color: #f8f9fa;
            padding: 0.75rem 1rem;
        }
        .form-control:focus {
            background-color: rgba(255,255,255,0.12);
            border-color: var(--accent-color);
            color: #f8f9fa;
            box-shadow: 0 0 0 0.25rem rgba(0, 169, 255, 0.3);
        }
        .form-control::placeholder {
            color: #899198;
        }
        .form-label {
            font-weight: 500;
        }

        .social-icons a {
            color: #adb5bd;
            font-size: 2rem;
            margin: 0 0.85rem;
            transition: color 0.3s ease, transform 0.3s ease;
        }
        .social-icons a:hover {
            color: var(--accent-color);
            transform: translateY(-3px) scale(1.1);
        }

        footer {
            background-color: #000000;
            padding: 2.5rem 0;
        }

        .section-fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
        }
        .section-fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#mainNavbar" data-bs-offset="75">

    <header>
        <nav id="mainNavbar" class="navbar navbar-expand-lg navbar-dark fixed-top">
            <div class="container">
                <a class="navbar-brand" href="#home">Douglas Crossing Band</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="#home">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="#band">The Band</a></li>
                        <li class="nav-item"><a class="nav-link" href="#events">Events</a></li>
                        <li class="nav-item"><a class="nav-link" href="#songs">Song List</a></li>
                        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="home" class="hero-section d-flex align-items-center text-center">
            <div class="container">
                <h1 class="display-1">Douglas Crossing Band</h1>
                <p class="lead my-4">SOUTH SURREY'S VERY OWN</p>
                <p class="h2 fw-light mb-5">Come experience the spectacle!</p>
                <a href="#contact" class="btn btn-primary btn-lg">Contact Us</a>
            </div>
        </section>

        <section id="band" class="py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 mb-4 mb-lg-0">
                        <h2 class="section-title text-center text-lg-start">THE BAND</h2>
                        <h3 class="section-subtitle text-center text-lg-start">What We Play</h3>
                        <p class="lead">60s through today including Mellencamp, The Doors, Poison, T-Rex, Guns&Roses, Smash Mouth, Trooper, AC/DC and so much more.</p>
                        <div class="text-center text-lg-start mt-4 pt-2">
                             <a href="#songs" class="btn btn-outline-light">Our Song List & Samples</a>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="image-placeholder-container">
                            <img id="bandPhoto" src="data:image/svg+xml;charset=UTF-8,<svg%20width%3D"600"%20height%3D"400"%20xmlns%3D"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg"><rect%20width%3D"600"%20height%3D"400"%20fill%3D"%232a2a2a"/%3E<text%20x%3D"50%25"%20y%3D"50%25"%20font-family%3D"Arial"%20font-size%3D"20"%20fill%3D"%236c757d"%20text-anchor%3D"middle"%20dy%3D".3em">Band Photo Loading...</text></svg>" class="img-fluid image-placeholder-content" alt="Douglas Crossing Band">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="events" class="py-5">
            <div class="container">
                <h2 class="section-title text-center">See Us Live</h2>
                <p class="section-subtitle text-center">We keep the dance floor moving by playing great dance tunes. Find out when we're playing next.</p>
                <div class="row justify-content-center g-4">
                    <div class="col-md-6 col-lg-5 col-xl-4">
                        <div class="card event-card event-card-past h-100">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">Live at Crescent Beach Legion</h5>
                                <h6 class="card-subtitle mb-2 text-body-secondary">Saturday Feb 24, 2024 | 7:30 pm - 11:00 pm</h6>
                                <p class="card-text flex-grow-1 mt-2">Hear us live at The Crescent Beach Legion for an evening of dancing & good times. $10 cover charge.</p>
                                <p class="card-text mt-auto"><small class="text-body-secondary"><i class="bi bi-geo-alt-fill me-1"></i> Crescent Beach Legion South Surrey, BC</small></p>
                                <span class="badge bg-secondary align-self-start mt-2">Past Event</span>
                            </div>
                        </div>
                    </div>
                     <div class="col-md-6 col-lg-5 col-xl-4">
                        <div class="card event-card h-100">
                            <div class="card-body d-flex flex-column justify-content-center align-items-center text-center p-4">
                                <i class="bi bi-calendar-week display-3 text-muted mb-3"></i>
                                <h5 class="card-title">More Shows Coming Soon!</h5>
                                <p class="card-text mt-2">Check back for updates or contact us for booking availability.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="songs" class="py-5">
            <div class="container">
                <h2 class="section-title text-center">Our Song List</h2>
                 <ul class="song-list-columns">
                    <li>Ain't my Fault</li><li>Bang a Gong</li><li>Blue Suede Shoes</li><li>Breakup Song</li><li>Cherry Bomb</li><li>Cinnamon Girl</li><li>Come & Get Your Love</li><li>Comfortably Numb</li><li>Could Have Been a Lady</li><li>Crazy Little Thing Called Love</li><li>Day After Day</li><li>Dead Flowers</li><li>Dear Mr. Fantasy</li><li>Every Rose Has Its Thorns</li><li>Friday I'm in Love</li><li>Have You Ever Seen the Rain</li><li>Here for a Good Time</li><li>Hungry Heart</li><li>Hurts so Good</li><li>I won't Back Down</li><li>I Would Walk 500 Miles</li><li>It's Only Rock & Roll</li><li>Johnny B Good</li><li>Keep Your Hands to Yourself</li><li>Knockin' on Heaven's Door</li><li>Little Bones</li><li>Little Sister</li><li>Little Wing</li><li>Losing My Religion</li><li>Maggie May</li><li>Margaritaville</li><li>Mary Jane's Last Dance</li><li>Midnight Special</li><li>Mustang Sally</li><li>New Orleans is Sinking</li><li>No Matter What</li><li>Pink Houses</li><li>Pretty Woman</li><li>Pride & Joy</li><li>Proud Mary</li><li>Raise a Little Hell</li><li>Roadhouse Blues</li><li>R.O.C.K in the USA</li><li>Run to You</li><li>Running Down a Dream</li><li>Satisfaction</li><li>Shook me all Night Long</li><li>Some Kind of Wonderful</li><li>Stray Cat Strut</li><li>Stuck in the Middle with You</li><li>Tennessee Whisky</li><li>The Way</li><li>This One Goes Out to the One I Love</li><li>Tonight is a Wonderful Night to Fall in Love</li><li>Under My Thumb</li><li>Under the Boardwalk</li><li>Wagon Wheel</li><li>What I Like About You</li><li>What's Up</li><li>White Wedding</li><li>Who'll Stop the Rain</li><li>You May be Right</li><li>You Wreck Me</li>
                </ul>
            </div>
        </section>

        <section id="contact" class="py-5">
            <div class="container">
                <h2 class="section-title text-center">Contact Us</h2>
                <p class="section-subtitle text-center">Have us play your event! Get in touch to find out about featuring Douglas Crossing Band at your event or venue.</p>
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-xl-7">
                        <form id="contactForm">
                            <div class="mb-3">
                                <label for="contactName" class="form-label">Full Name</label>
                                <input type="text" class="form-control" id="contactName" placeholder="Your Name" required>
                            </div>
                            <div class="mb-3">
                                <label for="contactEmail" class="form-label">Email Address</label>
                                <input type="email" class="form-control" id="contactEmail" placeholder="name@example.com" required>
                            </div>
                            <div class="mb-3">
                                <label for="contactMessage" class="form-label">Message</label>
                                <textarea class="form-control" id="contactMessage" rows="5" placeholder="Your message for the band..." required></textarea>
                            </div>
                            <div class="text-center pt-2">
                                <button type="submit" class="btn btn-primary btn-lg">Send Message</button>
                            </div>
                        </form>
                        <div id="formFeedback" class="mt-4 text-center" role="alert" aria-live="polite"></div>
                    </div>
                </div>
                <div class="text-center mt-5 pt-3">
                    <h3 class="h4 mb-4 text-uppercase">Follow Us</h3>
                    <div class="social-icons">
                        <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                        <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                        <a href="#" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
                        <a href="#" target="_blank" rel="noopener noreferrer" aria-label="Twitter/X"><i class="bi bi-twitter-x"></i></a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="py-4 text-center">
        <div class="container">
            <p class="mb-0 text-body-secondary">&copy; <span id="currentYear"></span> Douglas Crossing Band. All Rights Reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mainNavbar = document.getElementById('mainNavbar');
            const SCROLL_THRESHOLD = 50;

            function updateNavbarBackground() {
                if (window.scrollY > SCROLL_THRESHOLD) {
                    mainNavbar.classList.add('bg-black-transparent');
                    mainNavbar.classList.remove('bg-transparent-custom');
                } else {
                    mainNavbar.classList.remove('bg-black-transparent');
                    mainNavbar.classList.add('bg-transparent-custom');
                }
            }

            if (mainNavbar) {
                window.addEventListener('scroll', updateNavbarBackground);
                updateNavbarBackground();
            }

            const navLinks = document.querySelectorAll('a.nav-link[href^="#"], a.btn[href^="#"]');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    let targetId = this.getAttribute('href');
                    if (targetId === '#') targetId = '#home';
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        const navbarCollapseElement = document.getElementById('navbarNav');
                        if (navbarCollapseElement && navbarCollapseElement.classList.contains('show')) {
                            const bsCollapse = bootstrap.Collapse.getInstance(navbarCollapseElement) || new bootstrap.Collapse(navbarCollapseElement, { toggle: false });
                            bsCollapse.hide();
                        }
                        
                        const navbarActualHeight = mainNavbar ? mainNavbar.offsetHeight : parseInt(getComputedStyle(document.documentElement).getPropertyValue('--navbar-height'), 10) || 75;
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - navbarActualHeight;
                        
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            const currentYearElement = document.getElementById('currentYear');
            if (currentYearElement) {
                currentYearElement.textContent = new Date().getFullYear();
            }

            const contactForm = document.getElementById('contactForm');
            const formFeedback = document.getElementById('formFeedback');

            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    formFeedback.textContent = ''; 
                    formFeedback.className = 'mt-4 text-center';

                    const name = document.getElementById('contactName').value.trim();
                    const email = document.getElementById('contactEmail').value.trim();
                    const message = document.getElementById('contactMessage').value.trim();
                    
                    if (!name || !email || !message) {
                        formFeedback.textContent = 'Please fill out all fields.';
                        formFeedback.classList.add('text-danger');
                        return;
                    }

                    if (!/^\S+@\S+\.\S+$/.test(email)) {
                        formFeedback.textContent = 'Please enter a valid email address.';
                        formFeedback.classList.add('text-danger');
                        return;
                    }

                    const subject = encodeURIComponent(`Website Inquiry from ${name}`);
                    const body = encodeURIComponent(`Message from: ${name} (${email})\n\n${message}`);
                    
                    window.location.href = `mailto:douglascrossingband.contact@example.com?subject=${subject}&body=${body}`;
                    
                    formFeedback.textContent = 'Thank you! Your email client should open. If not, please copy details and send manually.';
                    formFeedback.classList.add('text-success');
                    contactForm.reset();
                });
            }

            function loadArtImage(query, targetIdentifier, isCssVariable) {
                const API_BASE_URL = 'https://api.artic.edu/api/v1/artworks/search';
                const fields = 'image_id,thumbnail,config.iiif_url';
                const params = `?q=${encodeURIComponent(query)}&query[term][is_public_domain]=true&fields=${fields}&limit=1&page=${Math.floor(Math.random() * 3) + 1}`;

                fetch(API_BASE_URL + params)
                    .then(response => {
                        if (!response.ok) throw new Error(`HTTP error! status: ${response.status} for ${query}`);
                        return response.json();
                    })
                    .then(data => {
                        if (data.data && data.data.length > 0 && data.data[0].image_id && data.data[0].config?.iiif_url) {
                            const item = data.data[0];
                            const imageUrl = `${item.config.iiif_url}/${item.image_id}/full/843,/0/default.jpg`;
                            if (isCssVariable) {
                                document.documentElement.style.setProperty(targetIdentifier, `url(${imageUrl})`);
                            } else {
                                const imgElement = document.getElementById(targetIdentifier);
                                if (imgElement) {
                                    imgElement.src = imageUrl;
                                    imgElement.alt = item.thumbnail?.alt_text || `Image related to ${query}`;
                                    imgElement.classList.remove('image-placeholder-content'); 
                                }
                            }
                        } else {
                            console.warn(`No public domain image found or iiif_url missing for query: ${query}. Using placeholder.`);
                            const imgElement = document.getElementById(targetIdentifier);
                            if (imgElement && !isCssVariable) {
                                imgElement.alt = `Placeholder for ${query} - image not found`;
                            }
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching image from Art Institute API:', error);
                         const imgElement = document.getElementById(targetIdentifier);
                         if (imgElement && !isCssVariable) {
                            imgElement.alt = `Placeholder for ${query} - error loading image`;
                         }
                    });
            }

            loadArtImage('dark stage lights abstract music performance', '--hero-bg-image', true);
            loadArtImage('rock band instruments stage grunge', 'bandPhoto', false);

            const sectionsToFade = document.querySelectorAll('section:not(#home)');
            const fadeInObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            sectionsToFade.forEach(section => {
                section.classList.add('section-fade-in');
                fadeInObserver.observe(section);
            });
        });
    </script>

<!-- Injectable Console Log Copier Snippet -->
<div id="appgen2025ConsoleCopyUtil" style="position: fixed; top: 5px; right: 5px; z-index: 9999; padding: 5px; background-color: rgba(0,0,0,0.7); border-radius: 5px; cursor: default;" title="Copy Console Logs for this Tab">
    <button type="button" style="background: none; border: 1px solid #fff; color: #fff; padding: 3px 8px; font-size: 10px; border-radius: 3px; cursor: pointer;">Copy Logs</button>
</div>
<script>
    (function() {
        const utilContainer = document.getElementById('appgen2025ConsoleCopyUtil');
        if (utilContainer) {
            const originalConsoleLog = console.log;
            const originalConsoleError = console.error;
            const originalConsoleWarn = console.warn;
            const originalConsoleInfo = console.info;
            const originalConsoleDebug = console.debug;
            const logs = [];
            function formatLog(type, args) {
                const timestamp = new Date().toISOString();
                const message = Array.from(args).map(arg => {
                    try {
                        if (arg instanceof Error) return arg.stack || arg.toString();
                        if (typeof arg === 'object' && arg !== null) {
                            const getCircularReplacer = () => { const seen = new WeakSet(); return (key, value) => { if (typeof value === "object" && value !== null) { if (seen.has(value)) { return "[Circular]"; } seen.add(value); } return value; }; };
                            return JSON.stringify(arg, getCircularReplacer(), 2);
                        }
                        return String(arg);
                    } catch (e) { return '[Unserializable Object]'; }
                }).join(' ');
                return `[${timestamp}] [${type.toUpperCase()}] ${message}`;
            }
            console.log = function(...args) { const formatted = formatLog('log', args); logs.push(formatted); originalConsoleLog.apply(console, args); };
            console.error = function(...args) { const formatted = formatLog('error', args); logs.push(formatted); originalConsoleError.apply(console, args); };
            console.warn = function(...args) { const formatted = formatLog('warn', args); logs.push(formatted); originalConsoleWarn.apply(console, args); };
            console.info = function(...args) { const formatted = formatLog('info', args); logs.push(formatted); originalConsoleInfo.apply(console, args); };
            console.debug = function(...args) { const formatted = formatLog('debug', args); logs.push(formatted); originalConsoleDebug.apply(console, args); };
            window.onerror = function(message, source, lineno, colno, error) { const errorObj = error || {}; const formatted = formatLog('uncaught_error', [message, `at ${source}:${lineno}:${colno}`, errorObj.stack || '(no stack)']); logs.push(formatted); originalConsoleError.call(console, 'Uncaught Error:', message, 'at', source + ':' + lineno + ':' + colno, error); return false; };
            window.onunhandledrejection = function(event) { const reason = event.reason || {}; const formatted = formatLog('unhandled_rejection', [reason.message || reason, reason.stack || '(no stack)']); logs.push(formatted); originalConsoleError.call(console, 'Unhandled Rejection:', event.reason); };
            const copyButton = utilContainer.querySelector('button');
            if (copyButton) {
                copyButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (logs.length === 0) { alert('No console logs captured yet to copy.'); return; }
                    const logText = logs.join('\n');
                    navigator.clipboard.writeText(logText).then(function() {
                        const originalText = copyButton.textContent; copyButton.textContent = 'Copied!'; copyButton.style.background = '#28a745'; copyButton.style.borderColor = '#28a745';
                        setTimeout(function() { copyButton.textContent = originalText; copyButton.style.background = 'none'; copyButton.style.borderColor = '#fff'; }, 2000);
                        originalConsoleInfo.call(console, 'AppGen2025 Util: Console logs copied to clipboard.');
                    }).catch(function(err) {
                        originalConsoleError.call(console, 'AppGen2025 Util: Failed to copy console logs - ', err.name, err.message);
                        alert('Failed to copy logs. See browser console for details. Logs may be too large or permissions denied.');
                        const originalText = copyButton.textContent; copyButton.textContent = 'Failed!'; copyButton.style.background = '#dc3545'; copyButton.style.borderColor = '#dc3545';
                        setTimeout(function() { copyButton.textContent = originalText; copyButton.style.background = 'none'; copyButton.style.borderColor = '#fff'; }, 3000);
                    });
                });
            }
        } else { console.error('AppGen2025 Util: Container element "appgen2025ConsoleCopyUtil" not found. Ensure it is correctly injected or present in the HTML.'); }
    })();
</script>
<!-- End of Injectable Snippet -->

</body>
</html>